
from datetime import datetime
import pyodbc
from dateutil.parser import parse
import matplotlib as mpl
from statsmodels.tsa.seasonal import seasonal_decompose
import matplotlib.pyplot as plt
import seaborn as sns
from numpy import asarray, int32, float32, frombuffer, ndarray
import pandas as pd
from matplotlib import pyplot
import struct


# abnormal
hex2 = '0x000000003B5A35403B5A35400040B5400040B54019C2074119C20741F8C93441F8C93441EB686141EB686141CEBB8641CEBB86415CA29C415CA29C41045BB241045BB241C5E5C741C5E5C741471BDD41471BDD41C515F241C515F241F3560342F35603428F6E0D428F6E0D42A8681742A8681742A4552142A455214200182B4200182B4269C3344269C334428A6B3E428A6B3E42821D4842821D484232CC514232CC514254745B4254745B424C2665424C26654219E26E4219E26E42E3627842E36278427ECA80427ECA8042BD078542BD078542820D8842820D88420D318A420D318A428FB28A428FB28A4232B48A4232B48A42478389424783894293CD874293CD87425CFA85425CFA85423B2284423B228442589F8242589F8242266B8142266B8142A4858042A4858042F8C97F42F8C97F4293F17E4293F17E4297647E4297647E42580F7E42580F7E4271E17D4271E17D427ECA7D427ECA7D4237C77D4237C77D4254D47D4254D47D42B9E47D42B9E47D42ACFB7D42ACFB7D42E7157E42E7157E42DA2C7E42DA2C7E42CE437E42CE437E42C15A7E42C15A7E426D6E7E426D6E7E4261857E4261857E42C5957E42C5957E422AA67E422AA67E42B9AC7E42B9AC7E428FB67E428FB67E42D6B97E42D6B97E421DBD7E421DBD7E421DBD7E421DBD7E42B9AC7E42B9AC7E420D997E420D997E42D27E7E42D27E7E42085E7E42085E7E42F8397E42F8397E42110C7E42110C7E42E3DA7D42E3DA7D42DE9F7D42DE9F7D42DA647D42DA647D428F267D428F267D42B4E17C42B4E17C4293997C4293997C4271517C4271517C4208067C4208067C429FBA7B429FBA7B42A8687B42A8687B42F8197B42F8197B4247CB7A4247CB7A4250797A4250797A429F2A7A429F2A7A42EFDB7942EFDB79423F8D79423F8D79428F3E79428F3E794226F3784226F378429F9A78429F9A7842A8487842A8487842B0F67742B0F67742B9A47742B9A47742C1527742C1527742110477421104774261B5764261B57642B0667642B0667642471B7642471B764250C9754250C97542E77D7542E77D7542372F7542372F754286E0744286E074421D9574421D957442B4497442B44974424CFE73424CFE73422AB673422AB67342C16A7342C16A7342E7257342E7257342C5DD7242C5DD7242329C7242329C72421154724211547242370F7242370F724215C7714215C771423B8271423B827142613D7142613D7142CEFB7042CEFB7042F3B67042F3B6704219727042197270428630704286307042ACEB6F42ACEB6F4219AA6F4219AA6F4286686F4286686F42AC236F42AC236F428ADB6E428ADB6E423F9D6E423F9D6E42AC5B6E42AC5B6E42191A6E42191A6E4286D86D4286D86D42F3966D42F3966D4219526D4219526D423F0D6D423F0D6D42F3CE6C42F3CE6C42618D6C42618D6C42CE4B6C42CE4B6C42F3066C42F3066C4261C56B4261C56B42CE836B42CE836B423B426B423B426B42A8006B42A8006B425CC26A425CC26A42C9806A42C9806A420D496A420D496A4232046A4232046A42E7C56942E7C569429B8769429B8769425049694250496942040B6942040B694200D0684200D06842FC946842FC946842F8596842F85968423B2268423B2268427EEA67427EEA67427AAF67427AAF6742047B6742047B67424743674247436742D20E6742D20E67425CDA66425CDA6642E7A56642E7A56642B9746642B97466428A4366428A4366425C1266425C12664276E4654276E4654247B3654247B365421982654219826542325465423254654204236542042365421DF564421DF564427ECA64427ECA64425099644250996442B06E6442B06E6442C9406442C9406442E3126442E312644243E8634243E86342A4BD6342A4BD63424C9663424C966342F36E6342F36E634254446342544463424320634243206342EBF86242EBF8624293D1624293D1624282AD624282AD62427189624271896242196262421962624250416242504162423F1D62423F1D62422EF961422EF961421DD561421DD5614254B4614254B461428A9361428A936142C1726142C1726142B04E6142B04E6142E72D6142E72D61421D0D61421D0D61429BEF60429BEF6042D2CE6042D2CE604250B1604250B16042CE936042CE9360424C7660424C766042115C6042115C6042D6416042D64160425424604254246042610D6042610D604226F35F4226F35F4232DC5F4232DC5F423FC55F423FC55F4293B15F4293B15F429F9A5F429F9A5F42F3865F42F3865F4247735F4247735F429B5F5F429B5F5F42EF4B5F42EF4B5F428A3B5F428A3B5F42262B5F42262B5F42C11A5F42C11A5F425C0A5F425C0A5F42F8F95E42F8F95E4293E95E4293E95E4276DC5E4276DC5E4258CF5E4258CF5E42F3BE5E42F3BE5E42D6B15E42D6B15E42B9A45E42B9A45E420D915E420D915E42A8805E42A8805E4243705E4243705E42DE5F5E42DE5F5E42324C5E42324C5E423F355E423F355E424C1E5E424C1E5E4258075E4258075E4265F05D4265F05D422AD65D422AD65D42EFBB5D42EFBB5D42'
hex ='0x00C62740006E254000762C4000D64E4000647A4000AB864000B2894000459740003FB14000B5C7400086D34000C1DE400042EF400039004100910241003FFC40003FFC400026184100A8454180256141001B694100B3714100DC7F41405A88418030904180B59741C0409F4180A6A641C0A7AB4180E0AD414064B0414045B141C0F3AF41C012AF410070AD41C07BAA4180A6A64140FDA341C08CA34180A5A241C0F59E4140A39941400C9541805C9141403C8D4180038B4180789D41002ED141600A014200930A4240F10C4280DE0C4240A60C42207E0E4240D01E42E07245426094674200397D42B0A98742C06D8B42C0088742205A784260A45C4220E13C42A0741A4200B3F1410014B44100657E410013304100EEFC40004EBB4000488A4000C8484000A8134000E0DD3F00F4B03F00D4943F00748B3F00F06B3F0030593F00D04F3F00204B3F00C0413F0060383F00E8323F00382E3F0028203F00781B3F00C8163F0028203F0088293F0060383F00C0413F00204B3F00D04F3F0030593F00E05D3F0090623F00F06B3F00A0703F0050753F00007A3F00B07E3F00B0813F00B8883F00748B3F00D4943F00E4A23F0044AC3F00A4B53F0068BF3F0018C43F00D0CF3F0028D23F00D8D63F0030D93F0088DB3F0088DB3F0038E03F0038E03F0038E03F0088DB3F00C8C83F0018C43F0060B83F0060B83F00A4B53F0060B83F00B8BA3F00B8BA3F00B8BA3F00B8BA3F0060B83F00F4B03F00ECA93F003CA53F00349E3F0084993F007C923F00CC8D3F0060863F00B0813F00007A3F00A0703F0090623F0030593F00204B3F00103D3F00382E3F0028203F0018123F0008043F00F0EB3E0030D93E0070C63E0010BD3E0020B23E0020B23E00609F3E0000963E0000963E00A08C3E00A08C3E0000963E0000963E0000963E0000963E0000963E0000963E0000963E0000963E0000963E0000963E0000963E00A08C3E0040833E00C0733E0000613E00404E3E00404E3E00803B3E00803B3E00803B3E00C0283E00C0283E00C0283E00C0283E00C0283E00C0283E00C0283E00C0283E00C0283E00C0283E00C0283E00C0283E00C0283E00C0283E00C0283E00C0283E00C0283E00C0283E00803B3E00803B3E00803B3E00803B3E00803B3E00803B3E00404E3E00404E3E00404E3E00404E3E00404E3E00404E3E00404E3E00803B3E00803B3E00C0283E00C0283E0000163E0000163E0000163E0000163E0000163E0000163E00C0283E00C0283E0000163E0000163E0000163E0000163E0000163E0000163E0000163E0000163E0000163E0000163E0000163E0000163E0000163E0000163E0000163E0000163E0000163E00C0283E00C0283E00C0283E00C0283E00C0283E00803B3E00803B3E00803B3E00803B3E00803B3E00803B3E00803B3E00404E3E00404E3E00404E3E0000613E0000613E0000613E0000613E0000613E0000613E0000613E0000613E0000613E0000613E0000613E0000613E0000613E0000613E00404E3E00404E3E00404E3E00404E3E00404E3E00404E3E00803B3E00803B3E00803B3E00803B3E00C0283E00C0283E00C0283E00C0283E00C0283E00C0283E00C0283E00C0283E00C0283E00C0283E00C0283E00C0283E00C0283E0000163E0000163E0000163E0000163E0000163E0000163E0000163E0000163E0000163E0000163E0000163E0000163E0000163E0000163E0000163E0000163E0000163E0000163E0000163E0000163E0000163E0000163E0000163E0000163E0000163E0000163E0000163E0000163E0000163E0000163E0000163E0000163E0000163E0000163E0000163E0000163E0000163E00C0283E00C0283E00803B3E00803B3E00404E3E0000613E0000613E00C0733E00C0733E0000613E0000613E00404E3E00404E3E00803B3E00803B3E00803B3E00C0283E00C0283E00C0283E0000163E0000163E0040033E0040033E0000E13D0000E13D0000E13D0000E13D0000E13D0000E13D0000E13D0080BB3D0080BB3D0080BB3D0080BB3D0080BB3D0080BB3D0080BB3D0080BB3D0080BB3D0080BB3D0080BB3D0080BB3D0080BB3D0080BB3D0080BB3D0080BB3D0080BB3D0080BB3D0080BB3D0080BB3D0080BB3D0080BB3D0080BB3D0080BB3D0080BB3D0080BB3D0080BB3D0000E13D0000E13D0000E13D0000E13D0000E13D0000E13D0000E13D0000E13D0080BB3D0080BB3D0080BB3D0000E13D0000E13D0000E13D0000E13D0000E13D0000E13D0040033E0040033E0040033E0040033E0040033E0040033E0000163E0000163E00C0283E00C0283E00C0283E00803B3E00803B3E00803B3E00803B3E00404E3E00404E3E00404E3E0000613E0000613E00C0733E00C0733E0040833E00A08C3E0000963E00C0A83E0020B23E0020B23E0010BD3E0070C63E00D0CF3E0030D93E0090E23E00F0EB3E0050F53E0050F53E00B0FE3E0008043F0008043F00B8083F00B8083F00B8083F00B8083F00B8083F00B8083F00B8083F00B8083F00B8083F0008043F0008043F0008043F'
'''
hex = b'\x1f\x8b\x08\x00\x00\x00\x00\x00\x04\x00\x01\xc4\x01;\xfe\x8f\x12F?&\xf2U?\xe3M\x88?d\xb8;?\x12\xb1\x93?v\xc8\x82?\xd9OC?\xc0a\x94?cpd?\xad\xada?(\xde\x98?\xa4\x9b_?\xaa4\x8f?\x9du\xa0?M\x9fs?\x8b\xad\xb0?m\x12\x95?\xaa4\x8f?_\xaf\xba?\xfd\x83\x8e?\xc8\xcf\xaa?d\xb8\xbb?z-\x98?\x19\xd7\xd2?\xb2\xfe\xb9?4U\xb0?MC\xdf?l\xca\xbd?t8\xd4?@\x84\xf0?\xee|\xc8?\xec1\x00@\x9b\xe5\xf1?\xe5\xc6\xda?K\xca\x0c@M\x9f\xf3?K\x9c\x02@B\xe6\x14@\x1bg\x01@\xc4j\x15@,\xe7\x19@\xd6`\x0f@\x8f\xb61@\x1f\xfa @,\x15$@\xbf\x19=@\x98\x9a)@\x86\xd29@\xa06J@=\x95<@\x9b\x89]@\x81SW@\x15\xceQ@\x85\xb8l@/2b@\xff*k@\xdf-\x82@\x9f\xeer@>\x98\x84@\x88\x03\x8c@\\\xa9\x81@\xcde\x92@5\xe2\x96@O\xea\x92@(\x0c\xa3@\xe7\xb2\x9d@\x12\xf6\xa2@\xb6\xd9\xb0@\x9c\xa3\xaa@\xa1\xda\xb5@l\xe1\xc2@8\x8c\xbb@\xbaU\xcb@\xa9_\xd1@}\x1c\xcc@\xfb\xf3\xdf@\x10!\xe5@\x15*\xe6@\xcf:\xf9@\x9f\x05\xf8@\x06Q\x01A\x15|\x07A\xbc*\tA$\xa7\rA\xd8p\x12A\xd5w\x14AK\xf8\x16A\x87H\x1bA\xd5\xa5\x1eA\x1b\xf1\x1fA\xc8\xa1 A\x0e\xed!A\xbf\xa6#A\xb5\x9b#A\xb0\xa9\'AY:"A\xac[\x17A\x1b\xac\x10Ap\xc6\x03A3;\xe3@8\xa3\xc0@\xde\xb7\xa0@e\xbb\x83@3\rY@\'h7@\x7f6\x19@\xcd \x03@\xa0\x92\xde?~\xee\xc1?qw\xaa?\x17\xba\x94?-\x8b\x85?\x00\x00\x00\x00\xba\x91kt\xc4\x01\x00\x00'
hex2 = b'\x1f\x8b\x08\x00\x00\x00\x00\x00\x04\x00\x01\xc4\x01;\xfeDp\xc2>\x19\x15\xf4?\xd5\xcf\\@^\x88\x9f@\xa0f\xd0@\xa2\xe4\x00A\xc3S\x19A\xfd\xe31AO\x95JA\x88%cA\xc2\xb5{A\x8a3\x8aA\xa7{\x96AP\xd4\xa2Am\x1c\xafA\x16u\xbbAK\xde\xc7A\xdc\x15\xd4A\x85n\xe0A.\xc7\xecAJ\x0f\xf9A\xfa\xb3\x02B\xc2\xcf\x08B\xd0\xf3\x0eB% \x15B3D\x1bBBh!BP\x8c\'B_\xb0-Bm\xd43B{\xf89B\x8a\x1c@B\x98@FB`\\LBo\x80RB}\xa4XBE\xc0^B\x0e\xdcdB\x1c\x00kB\x9e\x13qB\xad7wB/K}B{\xb3\x81B`\xc1\x84B!\xcb\x87B\xe2\xd4\x8aB\xc6\xe2\x8dBd\xe8\x90B%\xf2\x93B\xe6\xfb\x96B\x84\x01\x9aBE\x0b\x9dB\xc0\x0c\xa0B^\x12\xa3B\x1f\x1c\xa6B\x9a\x1d\xa9B8#\xacB\xb3$\xafB.&\xb2B\xa9\'\xb5B$)\xb8B{&\xbbB\x19,\xbeBN%\xc1B\xa6"\xc4B\xfe\x1f\xc7B3\x19\xcaBg\x12\xcdB\xbf\x0f\xd0B\xd1\x04\xd3B)\x02\xd6B;\xf7\xd8B)\xe8\xdbB;\xdd\xdeB*\xce\xe1B\x18\xbf\xe4B\x07\xb0\xe7B\xaf\x98\xeaB{\x85\xedBFr\xf0B\x86N\xf3B\xac\t\xf6B\xbb\xa3\xf8B\x01\x08\xfbB\xc5>\xfdB\x08H\xffB\xe5\x91\x00C\xf3f\x01C@%\x02C\xde\xce\x02C\xbba\x03C\xe8\xdf\x03CxK\x04C\xb0\xac\x04C9\xf9\x04Cc\x1c\x05Cu\x1e\x05C\x1d\x14\x05Cn\xff\x04Cx\xe2\x04C`\xc1\x04C$\x9c\x04C\xfax\x04C\xd0U\x04C\xc96\x04C\xe5\x1b\x04C\x12\x03\x04Cu\xf0\x03C\xfa\xe1\x03C\xa2\xd7\x03C\\\xcf\x03C9\xcb\x03C9\xcb\x03CZ\xa7\xb2\x1f\xc4\x01\x00\x00'


hex2 = b'\x00\x00\x00\x00F\x93\xdd@\xce\x82%A)\x07\\A(?\x89A\xe3\xe2\xa3Ajy\xbeA\x1c\x99\xd8A\x00\xa5\xf2A\x07\x1d\x06B\xc0\xd3\x12B\xdcb\x1fB\xc2\xc3+B\xf3\x068B\xa8\'CBS\xfbJB\xdeuRB\xab\xa6VBo\x8aWB$\xa8WB/\xd8VBV\xcbTBANRBC\xa6OBt\xc9LB\xf2\xefIB\x8c-GB\xae\xdeDBt\x1aCB\xda\xbfABa\xbe@Bn\x0f@B\xe6\x9b?B.]?B\xc6B?B,<?B\x13F?B\xe1Y?BIt?B\xff\x91?B\x01\xb3?B\x04\xd4?B\x06\xf5?BU\x19@B\x0b7@B\xc0T@Bur@B\xde\x8c@BF\xa7@B\xae\xc1@B\x17\xdc@B2\xf3@BM\nAB\x9d.ABkBAB9VAB\xd6}AB\x07jAB\xa4\x91AB\xbf\xa8AB\x8d\xbcAB\xa9\xd3AB\x11\xeeAB\xdf\x01BB`\x12BB\xe2"BBc3BB\x97@BB\xcbMBB\xffZBB3hBB\x1brBBO\x7fBB\x83\x8cBB\xd2\xb0BB\xdeUCB\x89CDB\x05fEB\xb4\x95FB\xcc\xdfGB\x97&IB+?JB\xf2CKB\x81\x1aLB\x8d\xbfLB\xe4FMBl\xbaMB\xa5\tNB]HNB\xe0yNB0\x9eNB\xe5\xbbNB\x9b\xd9NB\x19\xc9NB\xb6\xf0NB\xb6\xf0NB\x03\xf4NBP\xf7NBP\xf7NBP\xf7NBP\xf7NBP\xf7NBP\xf7NBP\xf7NBP\xf7NBP\xf7NBP\xf7NBP\xf7NBP\xf7NB\x03\xf4NB\x03\xf4NB\x03\xf4NB\x03\xf4NB\x03\xf4NB\x03\xf4NB\x03\xf4NB\x03\xf4NB\xb6\xf0NBi\xedNB\x1c\xeaNB\xcf\xe6NB\x19\xc9NB\xb3\xcfNBM\xd6NB5\xe0NB\x82\xe3NB\x19\xc9NB2\xbfNBK\xb5NB\x17\xa8NB0\x9eNB\xaf\x8dNB-}NB_iNB\xdeXNB]HNB\x8f4NB\xc0 NB\xf2\x0cNBq\xfcMBV\xe5MB\x87\xd1MB\x06\xc1MB\xeb\xa9MB\x1d\x96MB\xb4{MB\xff]MB\x97CMB\xe1%MB\xdf\x04MBw\xeaLB\xc1\xccLBY\xb2LB\xf1\x97LB\x88}LB\xd3_LB\x84;LB4\x17LBK\xecKB\x14\xbeKB\x90\x8cKBsTKBU\x1cKB\xea\xe0JB\x1a\xacJBIwJB+?JB[\nJB\x8a\xd5IB\xba\xa0IB\x83rIBLDIB\xc9\x12IB\x92\xe4HB\x0f\xb3HB\xd8\x84HB\x08PHB\xb6\nHB\xfe\xcbGB\x12\x80GB&4GBS\xdeFB\xcd\x8bFBG9FB\xc1\xe6EB\xd5\x9aEB\x83UEB\x98\tEBF\xc4DB\xf4~DB\xa29DB\xea\xfaCB\xe5\xb8CB\xe1vCB\x8f1CBV\xe2BB6\x89BB\x160BB\\\xd0AB<wAB\x1c\x1eAB\x14\xbb@B(o@B\xef\x1f@B\x04\xd4?B\xb2\x8e?B\xadL?B[\x07?B"\xb8>B\xe9h>B\xc9\x0f>B\x90\xc0=B\xbdj=B\xea\x14=B\x17\xbf<B\xf7e<B$\x10<BQ\xba;B1a;B\x92\x18;B@\xd3:B\xee\x8d:B\xeaK:B2\r:B\xe0\xc79B\xf4{9B\x0809B\x1c\xe48B~\x9b8B\xdfR8B\xda\x108B"\xd27B\xb7\x967BM[7B|&7B\xab\xf16B(\xc06B\xa4\x8e6B\xbbc6B726B\xb4\x006B\xe3\xcb5B\x12\x975BBb5B\xbe05B:\xff4B\xb7\xcd4B\xff\x8e4B|]4BE/4B\xc1\xfd3B\xd8\xd23B;\xab3B\xec\x863B\x9db3BM>3B\xb1\x163B\x14\xef2B\xc5\xca2B\xc2\xa92BZ\x8f2B?x2B#a2B\x08J2B\xed22B\x85\x182B\xcf\xfa1B\x1a\xdd1Be\xbf1B\x15\x9b1B\xc6v1BvR1B\xda*1B\xf0\xff0BT\xd80Bj\xad0B\x81\x820B\x97W0Ba)0B\xdd\xf7/B\x0c\xc3/B<\x8e/B\xb8\\/B\xcf1/B\xe5\x06/B\xfc\xdb.B_\xb4.Bv\x89.B\x8c^.B\xa33.B\xb9\x08.B\x83\xda-B1\x95-B\xadc-B\xf5$-B>\xe6,B9\xa4,B4b,B\xc9&,B\x12\xe8+B\xa7\xac+B\x89t+B\x06C+B\xcf\x14+B3\xed*BI\xc2*B`\x97*B)i*B@>*B\xf0\x19*B\xee\xf8)B\x85\xde)Bj\xc7)B\x9c\xb3)B\x81\x9c)Be\x85)B\xb0g)B\xaeF)B\xab%)B\\\x01)Br\xd6(B\x89\xab(B\x9f\x80(BiR(B\x7f\'(B\x96\xfc\'B\xac\xd1\'B]\xad\'B&\x7f\'B=T\'B\xed/\'B\x9e\x0b\'B\x83\xf4&B\x99\xc9&B\x8d$&B/:%BK\xfd#B/q"B\x0b\x82 B\x97n\x1eBS&\x1cBA\xca\x19B\xb0~\x17Bl6\x15B_\x1c\x13Bm\x19\x11BKK\x0fB\x16\xc9\rB2\x8c\x0cBl\x87\x0bB,\xd5\nB\x8d\x8c\nBy\xd8\nB\xb9\x8a\x0bB\x95d\x0cB%;\rB~\xe3\rB\xb9S\x0eB\tx\x0eBSZ\x0eB\xb4\x11\x0eB\xad\xae\rB\x8b4\rB\x00\xa0\x0cB\\\x15\x0cB\xd2\x80\x0bB`\xe2\nB\x88J\nB\xe2\x9e\tB\xd6\xf9\x08Bd[\x08B\x0b\xb3\x07Be\x07\x07B\xbf[\x06B\xb3\xb6\x05B\xf4\x14\x05B\x1a\\\x04BX\x99\x03B1\xdd\x02B\xf1*\x02BK\x7f\x01B?\xda\x00B\xcd;\x00B\x1fU\xffAm\x04\xfeA%\xef\xfcAx\xe0\xfbA\xcd\xf2\xfaA\x8b\x1f\xfaA\xe2R\xf9A\xd4\x8c\xf8A)\x9f\xf7A~\xb1\xf6A9\xbd\xf5A\xf5\xc8\xf4A~\xe8\xf3A\x07\x08\xf3A(\r\xf2A\x13\xe4\xf0Ae\xd5\xefA\x1e\xc0\xeeA\xd7\xaa\xedA\x92\xb6\xecA\xe7\xc8\xebAp\xe8\xeaA.\x15\xeaA\xb74\xe9A\x0fh\xe8A\xcc\x94\xe7A$\xc8\xe6A\x15\x02\xe6Am5\xe5A-\x83\xe4A\xea\xaf\xe3A\x0e\xd6\xe2A3\x1d\xe2A%W\xe1A\xe5\xa4\xe0A\xd9\xff\xdfA3T\xdfA\xc1\xb5\xdeA\xb5\x10\xdeA\x0fe\xddA\x9d\xc6\xdcA+(\xdcA\x88\x9d\xdbA~\x19\xdbA\xda\x8e\xdaAk\x11\xdaAa\x8d\xd9A\xf2\x0f\xd9A\x82\x92\xd8A\xdf\x07\xd8A\t\x91\xd7Ah\'\xd7A-\xb7\xd6A\x8bM\xd6A\x1c\xd0\xd5AFY\xd5A=\xd5\xd4A3Q\xd4A\xf8\xe0\xd3AWw\xd3A\x84!\xd3A\xe5\xd8\xd2A\x12\x83\xd2A?-\xd2A:\xeb\xd1A\x9b\xa2\xd1A\xcam\xd1A\xc8L\xd1A,%\xd1A]\x11\xd1A[\xf0\xd0A\xbe\xc8\xd0A\xbc\xa7\xd0A\xba\x86\xd0AQl\xd0A\xe9Q\xd0A\xb5D\xd0A\x817\xd0AM*\xd0A\xe4\x0f\xd0A\xe2\xee\xcfA\xae\xe1\xcfA\xdf\xcd\xcfA\xab\xc0\xcfA\xab\xc0\xcfA\xab\xc0\xcfA\xab\xc0\xcfAw\xb3\xcfA\xa9\x9f\xcfA\x0f\x99\xcfAu\x92\xcfA\xdb\x8b\xcfAu\x92\xcfA\xdb\x8b\xcfA\x0cx\xcfA\xd8j\xcfA\xa4]\xcfA\nW\xcfA\nW\xcfA\xa4]\xcfA\xa4]\xcfA\nW\xcfA\xd6I\xcfApP\xcfA\nW\xcfA\nW\xcfA\xa4]\xcfA\xa4]\xcfA>d\xcfA>d\xcfA\xa4]\xcfA>d\xcfA\xd8j\xcfArq\xcfA\x0cx\xcfA\xdb\x8b\xcfA\x0f\x99\xcfA\xdd\xac\xcfA\xab\xc0\xcfAE\xc7\xcfAz\xd4\xcfA\x14\xdb\xcfA\xe2\xee\xcfA\xb0\x02\xd0A\x18\x1d\xd0A\x1b>\xd0A\xb7e\xd0AT\x8d\xd0A"\xa1\xd0A\x8a\xbb\xd0A\xbe\xc8\xd0A\x8d\xdc\xd0A\xc1\xe9\xd0A\x8f\xfd\xd0A)\x04\xd1A\xc3\n\xd1A\xc3\n\xd1A]\x11\xd1A\x91\x1e\xd1A\xc6+\xd1A.F\xd1A0g\xd1A3\x88\xd1A\x01\x9c\xd1A5\xa9\xd1A\x03\xbd\xd1A8\xca\xd1A\x06\xde\xd1A\xd4\xf1\xd1A\xa2\x05\xd2A\xa0\xe4\xd1Adt\xd1A$\xc2\xd0Az\xd4\xcfA\x98\xb8\xceAN\x82\xcdA\xd1>\xccAP\xda\xcaA\x9e\x89\xc9A\xec8\xc8Al\xd4\xc6A\x88\x97\xc5A\xa4Z\xc4A\xf2\t\xc3Au\xc6\xc1A]|\xc0AGS\xbfA1*\xbeA\x1c\x01\xbdA6\xa3\xbbA\xb8_\xbaAn)\xb9AY\x00\xb8A\x0f\xca\xb6A+\x8d\xb5A'
hex = b'\x99\xfd\xb0@\xcc\xc8\xc3@\x99\xa5\xda@3\xd3\xea@39\tAf\xfa$A\x99\x95=A\x00 UA\xcc,fA\xcc\x1e\x7fAf\x08\x8cA3S\x9dAf\xa2\xafA3\x1c\xbfA\xcc\x96\xd1A\xcce\xdbA\x00u\xf5A\xe6\xf3\x00Bf\xdc\x01B\x80j\x04B\xff\xbf\xffA\x99\x03\xd7A\x00u\x98A\x99g;A\xcc\xac\xb7@\x99Y\xb5?\xcc\xcc\xb3\xbd\xcc\xcc\x94\xbc33\x82=\x99\x19\xdc>\xcc\x0c,?f\xa6\x9f>\xcc\xcc\xf1=ff\xc6=\x00\x00\x9b=\x00\x00:=33\xdf<33!=\x99\x99-=\xcc\xccR=\xcc\xcc\x94=\xcc\xcc\xb3=\xcc\xcc\xd2=\xcc\xcc\xf1=\x99\x99\xeb=ff\xe5=\x00\x00\xd9=33\xdf=\xcc\xcc\xf1=\xcc\xcc\xf1=33\xfe=\x00\x80\x0b>\xcdL\x05>\xcc\xcc\xf1=\x99\x99\xeb=\x00\x00\xd9=\xcc\xcc\xd2=\x99\x99\xcc=\x00\x00\xd9=33\xdf=33\xfe=\xccL$>\x99\x19=>\x00\x80I>3\xb3O>\x00\x00Y>\x00\x80I>3\xb30>f\xe6\x17>33\xfe=\xcc\xcc\xd2=ff\xe5=f\xe6\x17>ffF>\x99\x99k>\xccL\xe2>\xcc,G?3\xf3\x89?f&\xaf?3\xb3\x11@fF\x8c@\x99\xd5\xd4@\x00\xce\tA3\xd5$A\x00|:A\x99\xb9HA3]RA\xcc\xdaXAf\xa6]Af\x02bAf^fA3\x8dkA\x99\xedpAf\x1cvA\xcc\xc2zA\x99?~A\x00=\x80A3;\x81A3q\x82A\xcd\\\x83Af)\x84A\x00\xf6\x84A3\x97\x85A\x99>\x86A\xcd\xfe\x86Af\xcb\x87A\xcd\xb0\x88A\xcd\xa8\x89A\x99\xb9\x8aA\x00\xdd\x8bAf\x00\x8dA\xcd#\x8eA3G\x8fA\x99j\x90A3\x94\x91Af\xd0\x92A\xcd\x12\x94A3t\x95A3\x07\x97A\x00\x94\x98A3\x0e\x9aA\x00\x9b\x9bA\x00M\x9dA\xcc\xf8\x9eAfA\xa0A\x00\xa9\xa1A\x99\x8c\xa3A\xccD\xa5A\x99\xd1\xa6A\x00\xf5\xa7A3\xf3\xa8A\xcc;\xaaAfe\xabA\x99\x82\xacA\x00\x87\xadA\xccx\xaeA\x99j\xafA3V\xb0A\x99Z\xb1A3e\xb2A\xcco\xb3A\x00\x8d\xb4Af\xcf\xb5A3=\xb7A\x00\x8c\xb8A\xcc\xda\xb9A\x99)\xbbAfY\xbcA\x99W\xbdA\x99O\xbeA3;\xbfA\xccd\xc0A\x00\xc0\xc1A\x99F\xc3A\x99\xf8\xc4Af\xa4\xc6A3\x12\xc8Af\x10\xc9A\xcc\xb7\xc9A\x99-\xcaA\xccR\xcaA\xccR\xcaAf\'\xcaA\x00\x1b\xcaA3@\xcaA\xcc\x90\xcaA38\xcbA\x99\x1d\xccAf\x0f\xcdA3 \xceA\x99b\xcfA\xcc\xdc\xd0A3|\xd2A\x00f\xd4A35\xd7A\x99\x8e\xd9A\x00\x8b\xdbA\x99O\xddA\xcc\xaa\xdeA\x99\x9c\xdfA\x99\xda\xdfAf\x96\xdfA3\x14\xdfA\xccl\xdeA3\xde\xddAf\xe4\xddA\x99\xc3\xdeA\xcc{\xe0A\x00S\xe2A\x00b\xe4A\xccj\xe6Af/\xe8A\x002\xeaA\x99S\xecA\x99\x05\xeeA\xccA\xefA\xcc\xbd\xefAf\xb1\xefA\x00H\xefAf\xb9\xeeAf\xb9\xeeA\x00g\xefA\x00\x9d\xf0A\xccH\xf2A\xccW\xf4A\x99\xfb\xf6A\xff\xd0\xf9A\x99O\xfcA\xccd\xfeA\xcd\x17\x00B\xcd\xb2\x00B\x00\x16\x01B3Z\x01BM|\x01B\xb3\x04\x02BMt\x02B\xcd\xe0\x02B\x99u\x03B\xb32\x04B3\x1b\x05B3\x13\x06B\x19\xca\x06B3h\x07B\x00\xde\x07Bf(\x08B\xb3o\x08B\xcd\x91\x08B\x99\x8b\x08B\x80\xa7\x08B\x00\xf5\x08B\x00R\tBf\xbb\tBM4\nB\x19\xaa\nB3)\x0bB\x80\xae\x0bB3!\x0cB\x19{\x0cB\x80\xc5\x0cB\x19\xf7\x0cB\x80"\rB\x19T\rBf|\rB\x19\xb1\rB\x19\x0e\x0eB3\x8d\x0eBf\xf0\x0eB\x19D\x0fBM\xa7\x0fBM#\x10B\x00\x96\x10B\x00\x12\x11B\xe6\xa9\x11B\x99;\x12B\x00\xc4\x12BM*\x13B\x00~\x13B\x00\xdb\x13B\x00\x19\x14B\xcdo\x14B\xe6\xee\x14BLw\x15Bf\xf6\x15B\xe6\x81\x16BL\n\x17B\x00^\x17BL\xa5\x17B\xe6\xf5\x17B\xccO\x18B\x19\xb6\x18B\x19\x13\x19BLv\x19B\x99\xdc\x19B\x80U\x1aB\x19\xe4\x1aB\x80l\x1bB\x19\xdc\x1bBfB\x1cB3\xb8\x1cB\x99@\x1dB\xcc\x00\x1eBf\x8f\x1eBL\x08\x1fB\x19\x9d\x1fB\xcc. B\xb3\xa7 Bf\x1a!B\x19n!B\x99\x9c!B\xcc\xe0!BfP"B\x80\xb0"BL\x07#BLd#B\x19\xbb#B\xe6\xf2#B\xe6O$B\x00\xcf$BfW%B\xcc\xdf%B\xccz&B\xccS\'BL<(B3\x12)BL\xee)B\xe6\x9b*Bf\'+B3\xbc+Bf>,B\x00\xae,B\x00\xec,B\xe6\x83-B\xe6=.B\x80\xcc.B\x99K/B\x99\xa8/B\x19\xf6/B\x99C0B3\x940B\xcc\xe40B\xb3>1B\xe6\xa11BL\x0b2B\x99\x902B\x80G3BL94B3\xd14B\xe6C5B\xb3\xd85B\x99\xae6B\x80\xa37BL\x958B3k9B\x991:B\x19\x8f8B\xe6\xcf3B\x19\xb1,B\x99}!B\x00\xad\x11B\xcc\x83\xfeA\x99\x9e\xd7A\x99\x1c\xb1A\x99\xc0\x8dA\x00\xe8[A\xccz&A3\xbf\x00Af\x1e\xcf@\x99\x91\xae@3c\x9b@3\x8b\x96@3\x9f\xa3@\x00$\xc5@\xcdd\x02A\xcc\x94:A\xcdd\x82Af\xd9\xacAfq\xd8A3\xce\xfeA\xe6E\x0eBf\xfd\x18B\x99\xcb\x1fB\x00\xb8#Bf\xf2%B3"\'B\xb3\n(B3\xd4(B\x99{)B3\n*B\xe6]*B\xcc;*BLr)B\xe6m(B\x00y\'B\xccz&B3\x8f%B\xcc\x8a$B\x80,#B\xe6\n!B\xb3y\x1eB\x19\xdc\x1bB\x00m\x19BfK\x17B\x80?\x15B\x80O\x13BM\x97\x11Bf\x83\x10B\x00\x1a\x10B\xe6\x16\x10B\xe6\x92\x10B3\x94\x11Bf\xb1\x12B\x00\x9d\x13B\x99\xce\x13B\xb3t\x13Bf\xd0\x12B\xb3\x1f\x12B\x19S\x11B\x19<\x10B\x80\xb5\x0eB\x19\x16\rBMK\x0bB\xb3)\tB\xe6 \x07Bf~\x05B3\x80\x04B\x00\xdf\x03B\xcd=\x03B\xb3a\x02Bf\x7f\x01B\x99\xac\x00B\xff\x81\xffA\x99f\xfdA\xff\x06\xfbA3\x82\xf8A\xcc\xac\xf5A\x00G\xf3A\x00\xfa\xf0A\xcc\xa6\xeeA3\xc3\xecA\xcc\xe5\xeaA\xcc\x14\xe9A\x00\x88\xe7Aff\xe5Af\x9d\xe2A3\xce\xdfA\xccU\xddA34\xdbA\x99o\xd9A\x00e\xd8A\x00m\xd7A\x99Q\xd5A\x00\x8d\xd3A\xcc\x12\xd2A3\xab\xd0A\xcch\xcfA\xcc\x13\xceA\xcc\xbe\xccA\x99\x06\xcbA3P\xc8AfO\xc5A\x00<\xc2AfA\xbfA3\xcf\xbcA\x99\xcc\xbaA\x99X\xb9Af\xde\xb7Af\xcf\xb5A\x00\xb4\xb3A3\xe9\xb1A\x00o\xb0A\x99j\xafAf\xc9\xaeA\x00\x7f\xaeA\xcc\xfc\xadA\x99\xc0\xacA3@\xabA\x99\xb9\xa9A\x003\xa8A\xcc\xd7\xa6A\x99\xba\xa5A\x99\xc2\xa4Af\xc4\xa3Afo\xa2A\x00T\xa0A3K\x9eA\xcc\x8c\x9cA\x00\xe1\x9aAf\x98\x99A\x00\xd2\x98A\xcc\x11\x98A\xcc\xdb\x96Af\xc0\x94A\xcd\xdc\x92A\xcdI\x91A3\xc3\x8fA\x00h\x8eA3\x19\x8dAf/\x8bA\x99l\x88A\x99\xc2\x85A\x00D\x83A\xcd.\x81Af\x96~A\xff\xa9zA3\xb1vA\x00nrA\x00\xd4mA3_iA\x00\x1ceA\x99\xf1`A\xcc\xf8\\A3\xe7XA\xcc\xbcTA\x00\x86PA3\x11LA\xcc\xe6GAf\xfaCA\xccd@A\x00&=A\x00>:A\xccn7A\xcc\x025A\xcc\x1a2A3\x85.A3!+A\x99\xc9\'A\xccD%A\x00z#A\xcc\xe0!A\xcc\xaa A\xcc\xf0\x1fAf\xae\x1eA\x00t\x1cA\x00\xca\x19A\x00\xa4\x16A\x00\xbc\x13A\xcdh\x11A\xcd\xfc\x0eA\xcd\xd6\x0bA\x00\x98\x08A\x99\xa3\x05A\x99\xf9\x02A\xcd\xb2\x00A3\xb7\xfd@\xcc\x00\xfb@\xff\xf7\xf8@\x99\xbd\xf6@\x00(\xf3@\x00P\xee@\x00x\xe9@\xcc4\xe5@\xccT\xe1@f\xa6\xdd@3k\xd8@f>\xcb@\x99\xdd\xb4@\xcc\xb4\x97@3\x8bs@3\x836@\x00 \xf4?ff\x88?\x99\xd9\xe3>\x00\x00\xd9=\xcc\xcc\x14<\x00\x00\x00\x00\xcc\xcc\x14\xbc\x00\x00x\xbc\x00\x00x\xbcff\xc6\xbb\xcc\xcc\x14\xbc\xcc\xcc\x14\xbcff\xc6\xbb\x00\x00\x00\x00ff\xc6;ff\xc6<\x00\x00\xf8<\xcc\xcc\x14=\x99\x99-='
'''


def _byte_to_array(data: bytearray, factor=None):
    """
    Converts bytearray containing trace values to numpy array(s). PF6 will return two arrays, min and max array
    Args:
        data: Bytes
        factor: Specific quantity factor to convert integers to floats. Only used for PF6 traces.
    Returns:
        Numpy array(s) with the extracted data
    """
    if factor is not None:
        # pf 6
        data_chunks = frombuffer(data, dtype=int32)
        data_array = data_chunks * factor
        data_array_min = data_array[:len(data_array) // 2]
        data_array_max = data_array[len(data_array) // 2:]
        return float32(data_array_max), float32(data_array_min)
    else:
        # pf 4
        return frombuffer(data, dtype=float32)

def _hex_str_to_array(data: str, num_bytes=4) -> ndarray:
    """
    Converts a hex string containing floating point numbers with size \'num_bytes\' to a numpy array.
    Args:
        data: Hex string
        num_bytes: Number of bytes per number
    Returns:
        A numpy array with the extracted data as floating points
    """
    data_nox = data[2:]
    data_chunks = [struct.unpack('<f', bytearray.fromhex(data_nox[i:i + 2 * num_bytes]))[0] for i in
                   range(0, len(data_nox), 2 * num_bytes)]
    data_array = asarray(data_chunks, dtype=float32)
    return data_array

val = _hex_str_to_array(hex)
val2= _hex_str_to_array(hex2)
print(val2)
plt.plot( val2, val)
plt.show()